@import scala.collection.mutable._ 
@(categories: MutableList[Category], packages: Map[String, MutableList[models.AssetPackage]],currentCategory:models.Category, isAuthed:Boolean, user:models.User)

@main("RPGBOSS Asset Server", isAuthed, user) {

    @leftcol(categories, currentCategory)
    <div class="col-xs-9">
        <h1>Latest Packages</h1>
        <br>
        <div class="notice">
          This is a testrun. There might be problems here and there. If you find something report it one the repository:
          <a href="https://github.com/rpgboss/rpgboss-asset-server/issues">Klick me</a>
        </div>
        <br>
        @categories.map { category:models.Category =>
          <div class="category-list">
              <h2>@category.name</h2>
              <div class="line"></div>
              <div class="row">
                @if(packages(category.name).size!=0) {
                 @packages(category.name).map { row:AssetPackage =>
                  <div class="col-md-4">
                    <a href="/c/@category.slug/@row.id/@row.slug">
                      <div class="box package gap">
                        <h1>@row.name</h1>
                        <div class="image-view">
                        @if(row.pictures!="") {
                          <img src="/dynimage/@row.getMainImage()" alt="">
                        }
                        </div>
                      </div>
                    </a>
                  </div>
                 }
                } else {
                  <div class="notice">
                    There are no packages in this category.
                  </div>
                }
              </div>
              
          </div>
        } 
    </div>

}
